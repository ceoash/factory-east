"use client";

import React, { useState } from "react";
import Link from "next/link";

import { isEmailValid, isPhoneNoValid } from "../../utils/validate";
import { settings } from "../../config";

interface IProps {
  name: string;
  email: string;
  phone: string;
  message: string;
}

const Contact = () => {
  const INIT_State = {
    name: "",
    email: "",
    phone: "",
    message: "",
  };
  const [formdata, setFormdata] = useState<IProps>(INIT_State);
  const validate = (formdata: IProps) => {
    let isValid = true;

    if (
      !formdata.name ||
      !formdata.phone ||
      !formdata.email ||
      !formdata.message
    ) {
      alert("Error: please complete all fields");
      isValid = false;
    } else if (formdata.name.length < 3) {
      alert("Error: name must be at least 3 characters long");
      isValid = false;
    } else if (formdata.message.length < 10) {
      alert("Error: message must be at least 10 characters long");
      isValid = false;
    } else if (!isPhoneNoValid(formdata.phone)) {
      alert("Error: phone number is not valid");
      isValid = false;
    } else if (!isEmailValid(formdata.email)) {
      alert("Error: email address is not valid");
      isValid = false;
    }

    return isValid;
  };

  const handleSubmit = () => {
    if (!validate(formdata)) {
      return;
    }

    alert("Message sent successfully");
  };

  const handleOnChange = (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>) => {
    const { name, value } = e.target;
    setFormdata((prev) => ({ ...prev, [name]: value }));
  };
  return (
    <section className="lg:flex lg:gap-5 py-10 md:px-10 px-5 text-red-950 container sm:px-6 lg:px-8 max-w-7xl">
      <div className="lg:w-1/2 lg:pb-0 pb-10">
        <h2 className="text-[38px] font-bold mb-5">Get In Contact</h2>
        <p className="pb-5 lg:pr-20 max-w-2xl">
          Got a question, want to get involved, or just want to say hello? We{"'"}re
          always here to talk, collaborate, or help however we can.
        </p>
        <div className="space-y-4">
          <div>
            <h4 className="text-lg font-normal">Our Location:</h4>

            <address className="flex items-start gap-1 pt-3">
              <svg
                className="h-6 w-6 fill-red-600"
                viewBox="-30 0 162 162"
                fill="text-red-600"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path d="M27.5958 120.849C20.9996 122.189 12.5714 124.547 5.89444 130.952C2.54712 134.168 0.878113 138.021 1.20169 141.806C1.51148 145.436 3.66617 148.776 7.26881 151.209C11.1302 153.83 15.3871 155.815 19.8772 157.089C29.6068 159.807 39.6601 161.191 49.7622 161.207C57.3009 161.203 64.8192 160.424 72.1982 158.881C79.3523 157.39 87.632 155.139 94.7599 149.757C98.2037 147.158 100.23 143.963 100.621 140.516C101.015 137.037 99.7388 133.431 96.9271 130.08C93.0042 125.403 87.8171 122.195 81.0693 120.272C78.5444 119.55 75.921 119.068 73.3842 118.6C72.5507 118.446 71.7178 118.293 70.8849 118.13C71.9055 116.539 72.9307 114.954 73.9605 113.376C76.5622 109.372 79.2532 105.231 81.7302 101.058C89.1364 88.5795 97.8591 71.7897 99.5826 52.5642C101.399 32.303 95.0145 17.7991 80.0638 8.22578C69.6937 1.58496 58.122 -0.648498 45.6752 1.59158C26.8567 4.97632 14.5588 15.9805 9.12306 34.2989C5.88275 45.2216 7.06875 56.2665 8.46672 64.6696C10.756 78.4575 15.9286 92.2543 25.2401 109.405C26.6919 112.08 28.2257 114.63 29.8501 117.329C30.4159 118.268 30.983 119.214 31.5514 120.168L30.8295 120.285C29.7019 120.466 28.6426 120.637 27.5958 120.849ZM51.7895 127.563C51.3568 128.123 50.9212 128.686 50.4828 129.255C41.7279 121.787 36.1235 112.24 31.3723 103.015C25.2578 91.1438 18.7232 76.8586 16.6217 60.9068C14.8246 47.255 16.1694 37.1774 20.983 28.221C26.9629 17.0955 38.8498 10.0695 52.7806 9.42563C53.4627 9.39413 54.1411 9.37824 54.8153 9.37824C67.6341 9.37824 78.9684 15.0413 85.4208 24.7656C89.5275 30.9582 91.341 38.1747 91.131 47.475C90.8947 57.8307 88.0317 68.5074 82.1214 81.0723C75.4517 95.2564 66.7415 108.917 55.4939 122.834C54.239 124.385 53.0491 125.928 51.7895 127.563ZM34.7451 125.964C35.4474 125.995 36.1163 126.272 36.6354 126.747C40.5985 131.286 45.5055 134.904 51.0132 137.349C53.4239 138.412 55.5707 137.76 57.3888 135.412L58.6273 133.808C60.3049 131.63 62.0403 129.378 63.8472 127.264C64.3824 126.598 65.1522 126.161 65.9987 126.045C72.1936 126.548 78.7071 127.494 84.3654 130.981C86.7506 132.502 88.8876 134.381 90.7011 136.553C91.0949 136.944 91.404 137.412 91.6107 137.928C91.8175 138.443 91.9173 138.995 91.9035 139.55C91.8083 140.115 91.5989 140.655 91.2885 141.136C90.978 141.618 90.5731 142.032 90.0979 142.353C87.9549 144.058 85.6053 145.486 83.1033 146.602C73.7131 150.772 62.8882 152.85 49.0395 153.14C38.9923 152.77 29.2043 152.177 19.9158 149.047C16.8881 148.059 14.0059 146.671 11.3454 144.921C9.48011 143.663 8.44762 142.193 8.36033 140.668C8.27763 139.231 9.05342 137.771 10.603 136.446C13.9412 133.59 17.6803 131.24 21.7011 129.47C24.9119 128.071 28.4949 127.296 31.9603 126.547C32.809 126.364 33.6577 126.18 34.5004 125.987C34.5809 125.971 34.6629 125.963 34.7451 125.964Z" />
                <path d="M71.6559 44.1069C71.6559 43.927 71.6631 43.7473 71.6677 43.5681C71.6999 42.7805 71.6894 41.9917 71.6349 41.2053C71.4085 38.1778 70.4226 35.2566 68.7674 32.7113C67.1127 30.1662 64.8425 28.0794 62.1672 26.6444C59.5673 25.2742 56.6602 24.5922 53.7222 24.6635C50.7844 24.7349 47.9135 25.5573 45.3833 27.0521C39.4106 30.4401 35.6617 36.1457 34.5433 43.5518C33.0908 53.1685 39.9252 62.579 49.7769 64.529C51.1036 64.7941 52.453 64.9289 53.8061 64.9318C62.0976 64.9318 68.8665 59.6438 70.9274 51.0923C71.2463 49.6527 71.4885 48.197 71.6526 46.7316C71.7393 46.072 71.8246 45.4125 71.925 44.7562C71.9388 44.6664 71.9342 44.5746 71.9112 44.4866C71.8889 44.3987 71.8489 44.3162 71.7937 44.244C71.7543 44.1921 71.7077 44.1459 71.6559 44.1069ZM64.2051 44.9052L64.1913 45.1802C64.1775 45.4768 64.1585 45.8771 64.1257 46.2775C63.7812 50.4453 62.2557 53.6883 59.7144 55.6547C57.4546 57.4038 54.4993 58.0227 51.1625 57.4477C49.4206 57.0842 47.7699 56.3732 46.3093 55.357C44.8486 54.3408 43.6079 53.0401 42.6614 51.5333C41.7984 50.1604 41.244 48.6166 41.0368 47.0082C40.8296 45.3998 40.9747 43.7654 41.4617 42.2187C42.7186 37.9282 44.5755 33.7833 49.6102 32.5139C50.8258 32.2002 52.0755 32.0378 53.3309 32.0303C55.7094 31.9733 58.0361 32.7298 59.9263 34.1746C62.7512 36.4088 64.2707 40.22 64.2051 44.9023V44.9052Z" />
              </svg>
              <div>
                <p>{settings.address.building}</p>
                <p>{settings.address.street}</p>
                <p>{settings.address.city}</p>
                <p>{settings.address.postcode}</p>
              </div>
            </address>
          </div>
          <div>
            <h4 className="text-lg font-medium mb-1.5">Email</h4>
            <Link
              href={`mailto:${settings.email}`}
              className="flex items-center gap-2 text-red-600  hover:underline"
            >
              <svg
                className="h-5 w-5 fill-red-600"
                viewBox="0 -17 178 178"
                fill="text-red-600"
                xmlns="http://www.w3.org/2000/svg"
              >
                <g>
                  <path d="M176.582 68.1415C176.193 60.8736 175.883 53.4759 175.581 46.3229C175.288 39.3568 174.985 32.1533 174.609 25.0713C174.065 14.7867 168.774 7.29417 159.308 3.40359C155.965 2.0307 151.852 1.30472 146.741 1.18222C133.204 0.860342 119.439 0.711559 106.126 0.56691C101.387 0.515217 96.649 0.46112 91.9115 0.40465C91.7922 0.305737 91.6424 0.251378 91.4875 0.251299H80.4525C71.4852 0.251299 62.5185 0.253954 53.5531 0.258298C51.9122 0.258298 50.266 0.254587 48.6257 0.250025C43.6943 0.233084 38.5944 0.219024 33.5787 0.401468C26.7308 0.649721 21.4578 1.98858 16.9854 4.61576C7.92797 9.93791 3.09649 17.5349 2.62514 27.1972C2.37682 32.2854 2.29317 37.4607 2.21277 42.4661L2.16026 45.6C2.08765 49.801 2.01178 54.001 1.93268 58.2003C1.67788 72.0374 1.414 86.3455 1.30962 100.423C1.26747 106.027 1.55015 112.656 3.96137 119.34C7.52729 129.227 14.1048 135.618 24.07 138.88C33.3414 141.843 43.0098 143.363 52.7388 143.384C76.9223 143.698 102.288 143.846 132.141 143.846H137.94C143.426 143.94 148.903 143.344 154.242 142.073C166.482 138.926 173.735 131.387 175.801 119.662C176.458 115.685 176.914 111.676 177.168 107.652C178.062 95.4416 177.391 83.0674 176.742 71.0991L176.582 68.1415ZM63.4885 132.736C53.0131 132.704 41.8199 132.306 30.9451 129.625C26.5694 128.547 23.4398 127.284 20.9391 125.576L74.9078 75.696L76.4146 77.325C77.9162 78.9494 79.4664 80.6259 81.0322 82.2874C85.5641 87.0981 90.0105 87.4923 95.0223 83.5293C97.073 81.9089 99.0213 80.0753 100.905 78.3082C101.619 77.6371 102.34 76.9614 103.071 76.2889L155.893 129.871C154.067 131.379 151.86 131.695 149.535 132.028L148.867 132.124C146.37 132.458 143.852 132.613 141.332 132.587L126.557 132.641C105.884 132.718 84.5106 132.799 63.4885 132.736ZM145.959 21.38C138.055 28.5507 129.883 35.9648 122.091 43.5212C114.315 51.0613 106.691 58.9635 99.317 66.6077C96.2652 69.7718 93.1142 73.0388 90.0027 76.2264L24.3676 11.5338C24.8374 11.4082 25.3036 11.2814 25.7661 11.1532C27.5555 10.6639 29.2458 10.2004 30.9723 9.85959C39.5572 8.16547 48.3961 8.39587 56.9447 8.62197C58.8541 8.67149 60.7628 8.72049 62.6709 8.75176C65.5742 8.79737 68.5293 8.89466 71.386 8.98914C73.8672 9.07058 76.4327 9.15529 78.9594 9.20546C86.0647 9.34666 93.1699 9.48219 100.276 9.61211C115.635 9.90011 131.517 10.1989 147.134 10.5755C149.33 10.6973 151.513 11.0061 153.657 11.4988C154.499 11.6675 155.373 11.8407 156.24 11.9919V12.0135C152.824 15.1509 149.335 18.3175 145.957 21.3826L145.959 21.38ZM35.4148 100.077C28.8321 106.367 22.0329 112.866 15.4579 119.507C12.7271 113.032 11.3117 107.718 10.8903 102.389C9.72326 87.6069 10.2082 72.8929 10.8086 59.0891C11.0829 52.7942 11.1924 46.3916 11.2988 40.1996C11.3714 35.9904 11.4466 31.6377 11.5724 27.3633C11.702 22.8296 13.2107 19.6483 16.5848 16.8367L67.8693 67.4697C57.429 79.036 46.2384 89.7318 35.411 100.082L35.4148 100.077ZM164.703 118.401C164.463 119.7 164.142 120.982 163.742 122.24C163.598 122.728 163.454 123.217 163.318 123.706L163.112 123.775L108.749 70.5361C127.542 51.0534 145.364 34.4378 163.19 19.7771C163.266 20.1218 163.344 20.4573 163.421 20.7844C163.738 21.9717 163.949 23.1849 164.051 24.4102C164.652 36.7407 165.142 48.9096 165.502 58.1347C165.84 66.7915 166.128 75.3324 166.358 83.5222C166.647 93.8921 166.679 106.148 164.699 118.404L164.703 118.401Z" />
                </g>
              </svg>
              {settings.email}
            </Link>
          </div>
          <div>
            <h4 className="text-lg font-medium mb-1.5">Phone</h4>
            <Link
              href={`tel:${settings.phone}`}
              className="flex items-center gap-2 text-red-600 hover:underline "
            >
              {" "}
              <svg
                className="h-5 w-5 fill-red-600"
                viewBox="0 -6.5 164 164"
                fill="text-red-600"
                xmlns="http://www.w3.org/2000/svg"
              >
                <g>
                  <path d="M129.93 130.486C129.62 131.763 129.331 132.823 129.107 133.896C127.665 140.816 123.559 145.182 116.638 146.649C114.044 147.246 111.392 147.551 108.732 147.561C99.9647 147.424 91.2075 147.055 81.8516 146.756C76.9259 151.476 70.213 150.523 63.7085 150.124C62.2522 150.057 60.8267 149.682 59.5258 149.023C58.2248 148.364 57.0781 147.436 56.1611 146.3C55.2539 145.164 54.6229 143.832 54.3184 142.409C54.0137 140.986 54.0439 139.512 54.4062 138.103C54.7686 136.694 55.4533 135.389 56.4061 134.292C57.3589 133.194 58.5538 132.333 59.8958 131.778C65.9705 129.335 72.2755 129.521 78.5604 131.035C79.3293 131.182 80.0333 131.566 80.5736 132.134C82.0841 134.1 84.1252 134.096 86.2825 134.087C93.8409 134.058 101.399 134.108 108.957 134.103C110.179 134.131 111.401 134.057 112.61 133.881C116.754 133.174 117.918 131.71 118.338 127.448C120.646 104.017 119.37 80.5212 119.461 57.0587C119.48 52.3074 118.709 47.5378 118.127 42.7989C117.257 35.7175 113.846 29.7757 109.55 24.2493C103.467 16.4285 95.6748 11.3006 85.7701 10.3568C72.9678 9.1371 60.9563 11.3043 51.1705 20.6403C47.9312 23.7628 45.8413 27.8918 45.2408 32.3558C44.2602 38.8261 43.7023 45.364 43.0562 51.8817C42.3873 58.624 41.6398 65.3665 41.2762 72.1283C40.9248 78.663 41.0547 85.223 40.9028 91.7707C40.8274 94.9899 40.48 98.2045 40.4651 101.422C40.4527 104.081 40.9417 106.747 40.8657 109.401C40.732 114.058 40.5657 118.739 39.9754 123.352C39.5039 127.041 37.7986 128.678 34.2951 128.828C26.6802 129.153 19.1945 128.464 12.4687 124.294C6.51691 120.604 3.14652 115.268 2.12112 108.348C0.907385 100.154 0.383318 91.9855 2.76208 83.9044C4.51546 77.9457 7.80207 72.979 13.0077 69.5359C16.0284 67.4636 19.2392 65.6848 22.5968 64.2239C25.4048 63.0621 28.5518 62.7233 31.9118 61.9345C32.1754 59.6903 32.5151 57.0775 32.7852 54.4578C33.4801 47.7207 34.0581 40.9706 34.838 34.2433C36.3842 20.9201 43.6822 11.7139 55.5201 5.96158C64.786 1.48267 75.0809 -0.423309 85.3317 0.442282C95.1916 1.10551 104.54 5.08185 111.867 11.7288C122.406 21.1923 129.176 32.803 130.497 47.2008C130.75 49.9643 130.9 52.737 131.168 55.4986C131.28 56.6604 131.574 57.8038 131.826 59.1778C136.186 58.2616 140.713 58.5411 144.929 59.9863C153.251 62.6867 158.782 68.2459 161.335 76.6063C163.294 83.0264 164.296 89.5259 163.276 96.3404C162.121 104.045 160.14 111.375 155.722 117.851C150.275 125.841 142.683 130.03 132.993 130.315C132.117 130.342 131.242 130.412 129.93 130.486ZM132.02 67.9277C131.783 84.9152 131.546 101.968 131.309 118.989C139.232 119.779 144.94 115.704 147.869 110.285C153.316 100.217 154.374 89.6528 151.609 78.6051C149.36 69.6147 139.319 65.7941 132.021 67.9277H132.02ZM31.4442 70.0657C29.924 70.2844 28.657 70.1894 27.6614 70.6645C25.169 71.8543 22.7714 73.2537 20.3881 74.6563C13.8941 78.4749 11.2699 84.5071 11.1666 91.7225C11.1053 95.9447 11.359 100.166 11.9258 104.35C12.2933 107.041 12.92 110.023 14.4299 112.17C18.625 118.137 25.1898 118.763 31.4442 119.078V70.0657Z" />
                </g>
              </svg>
              {settings.phone}
            </Link>
          </div>
        </div>
      </div>
      <div className="lg:w-1/2 flex flex-col text-red-950 py-6 rounded-xl pt-16 lg:px-10  md:px-16 px-5 bg-black/5 lg:pt-7">
        <h2 className="text-[22px] font-bormal mb-5 text-black/60">
          Message Us
        </h2>

        <form className="w-full space-y-6" onSubmit={handleSubmit}>
          <div>
            <label
              htmlFor="username"
              className="block text-gray-600 font-normal mb-1"
            >
              Name <span className="text-red-500">*</span>
            </label>
            <input
              type="text"
              id="name"
              name="name"
              placeholder="Enter your name"
              required
              value={formdata.name}
              className="w-full border-gray-300 rounded bg-white px-4 py-1.5 text-gray-800 shadow-sm focus:outline-none"
              onChange={handleOnChange}
            />
          </div>
          <div>
            <label
              htmlFor="phone"
              className="block text-gray-600 font-normal mb-1"
            >
              Phone Number <span className="text-red-500">*</span>
            </label>

            <input
              type="tel"
              id="phone"
              name="phone"
              placeholder="phone"
              required
              value={formdata.phone}
              className="w-full border-gray-300 rounded bg-white px-4 py-1.5 text-gray-800 shadow-sm focus:outline-none"
              onChange={handleOnChange}
            />
          </div>
          <div>
            <label
              htmlFor="email"
              className="block text-gray-600 font-normal mb-1"
            >
              Your Email <span className="text-red-500">*</span>
            </label>
            <input
              type="email"
              id="email"
              name="email"
              placeholder="you@example.com"
              required
              value={formdata.email}
              className="w-full border-gray-300 rounded bg-white px-4 py-1.5 text-gray-800 shadow-sm focus:outline-none"
              onChange={handleOnChange}
            />
          </div>
          <div>
            <label
              htmlFor="subjects"
              className="block text-gray-600 font-normal mb-1"
            >
              Message
            </label>
            <textarea
              id="Message"
              name="message"
              placeholder="Message"
              rows={4}
              required
              defaultValue={formdata.message}
              className="w-full border-gray-300 rounded bg-white px-4 py-1.5 text-gray-800 shadow-sm focus:outline-none"
              onChange={handleOnChange}
            />
            
          </div>
          <div className="flex ">
            <button className="bg-red-600 text-white p-2 pr-4 pl-3 rounded-full flex items-center gap-2">
              <span className="bg-white/40 rounded-full p-2">
                <svg
                  fill="#FFFFFF"
                  height="13px"
                  width="13px"
                  version="1.1"
                  id="Layer_1"
                  xmlns="http://www.w3.org/2000/svg"
                  viewBox="0 0 330 330"
                >
                  <path
                    id="XMLID_222_"
                    d="M250.606,154.389l-150-149.996c-5.857-5.858-15.355-5.858-21.213,0.001
	c-5.857,5.858-5.857,15.355,0.001,21.213l139.393,139.39L79.393,304.394c-5.857,5.858-5.857,15.355,0.001,21.213
	C82.322,328.536,86.161,330,90,330s7.678-1.464,10.607-4.394l149.999-150.004c2.814-2.813,4.394-6.628,4.394-10.606
	C255,161.018,253.42,157.202,250.606,154.389z"
                  />
                </svg>
              </span>
              Send
            </button>
          </div>
        </form>
      </div>
    </section>
  );
};

export default Contact;
